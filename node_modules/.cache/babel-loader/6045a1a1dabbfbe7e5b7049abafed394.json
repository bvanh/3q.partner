{"ast":null,"code":"import \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/form/style/css\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/icon/style/css\";\nimport _Icon from \"antd/es/icon\";\nvar _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\client_partner\\\\src\\\\component\\\\login.js\";\nimport React from \"react\";\nimport fetch from \"isomorphic-unfetch\";\nimport { url } from \"./api\";\n\nclass NormalLoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.props.form.validateFields((err, values) => {\n        if (!err) {\n          fetch(url + \"/auth/login\", {\n            headers: {\n              \"Content-Type\": \"application/x-www-form-urlencoded\"\n            },\n            method: \"POST\",\n            body: `partnerName=${values.username}&password=${values.password}`\n          }).then(response => response.json()).then(result => localStorage.setItem(\"userToken\", JSON.stringify(result))).then(this.props.logIn()).catch(function (error) {\n            console.log(\"Request failed\", error);\n          });\n        }\n      });\n    };\n\n    this.state = {};\n  }\n\n  render() {\n    const getFieldDecorator = this.props.form.getFieldDecorator; // const { validateStatus, help } = this.state;\n\n    return React.createElement(_Form, {\n      onSubmit: this.handleSubmit,\n      className: \"login-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(_Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, getFieldDecorator(\"username\", {\n      rules: [{\n        required: true,\n        message: \"Please input your username!\"\n      }]\n    })(React.createElement(_Input, {\n      prefix: React.createElement(_Icon, {\n        type: \"user\",\n        style: {\n          color: \"rgba(0,0,0,.25)\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }),\n      placeholder: \"Username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }))), React.createElement(_Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, getFieldDecorator(\"password\", {\n      rules: [{\n        required: true,\n        message: \"Please input your Password!\"\n      }]\n    })(React.createElement(_Input.Password, {\n      prefix: React.createElement(_Icon, {\n        type: \"lock\",\n        style: {\n          color: \"rgba(0,0,0,.25)\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }),\n      type: \"password\",\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }))), React.createElement(_Form.Item, {\n      className: \"btn-submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"login-form-forgot\",\n      href: \"\",\n      style: {\n        width: \"50%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Forgot password\"), React.createElement(_Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      className: \"login-form-button\",\n      style: {\n        float: \"right\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Log in\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), \"Or \", React.createElement(\"a\", {\n      href: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"register now!\")));\n  }\n\n}\n\nconst LoginForm = _Form.create({\n  name: \"normal_login\"\n})(NormalLoginForm);\n\nexport default LoginForm;","map":{"version":3,"sources":["C:/Users/ADMIN/Desktop/client_partner/src/component/login.js"],"names":["React","fetch","url","NormalLoginForm","Component","constructor","props","handleSubmit","e","preventDefault","form","validateFields","err","values","headers","method","body","username","password","then","response","json","result","localStorage","setItem","JSON","stringify","logIn","catch","error","console","log","state","render","getFieldDecorator","rules","required","message","color","width","float","LoginForm","create","name"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport fetch from \"isomorphic-unfetch\";\nimport { url } from \"./api\";\n\nimport { Form, Icon, Input, Button } from \"antd\";\n\nclass NormalLoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.form.validateFields((err, values) => {\n      if (!err) {\n        fetch(url + \"/auth/login\", {\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n          },\n          method: \"POST\",\n          body: `partnerName=${values.username}&password=${values.password}`\n        })\n          .then(response => response.json())\n          .then(result =>\n            localStorage.setItem(\"userToken\", JSON.stringify(result))\n          )\n          .then(this.props.logIn())\n          .catch(function(error) {\n            console.log(\"Request failed\", error);\n          });\n      }\n    });\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    // const { validateStatus, help } = this.state;\n    return (\n      <Form onSubmit={this.handleSubmit} className=\"login-form\">\n        <Form.Item>\n          {getFieldDecorator(\"username\", {\n            rules: [{ required: true, message: \"Please input your username!\" }]\n          })(\n            <Input\n              prefix={<Icon type=\"user\" style={{ color: \"rgba(0,0,0,.25)\" }} />}\n              placeholder=\"Username\"\n            />\n          )}\n        </Form.Item>\n        <Form.Item\n        // validateStatus={validateStatus}\n        // help={help}\n        >\n          {getFieldDecorator(\"password\", {\n            rules: [{ required: true, message: \"Please input your Password!\" }]\n          })(\n            <Input.Password\n              prefix={<Icon type=\"lock\" style={{ color: \"rgba(0,0,0,.25)\" }} />}\n              type=\"password\"\n              placeholder=\"Password\"\n            />\n          )}\n        </Form.Item>\n        <Form.Item className=\"btn-submit\">\n          <a className=\"login-form-forgot\" href=\"\" style={{ width: \"50%\" }}>\n            Forgot password\n          </a>\n          <Button\n            type=\"primary\"\n            htmlType=\"submit\"\n            className=\"login-form-button\"\n            style={{ float: \"right\" }}\n          >\n            Log in\n          </Button>\n          <br />\n          Or <a href=\"\">register now!</a>\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n\nconst LoginForm = Form.create({ name: \"normal_login\" })(NormalLoginForm);\nexport default LoginForm;\n"]},"metadata":{},"sourceType":"module"}